import{c as v,r as o,j as e,a as m,o as g,n as w,L as f}from"./app-DkoDXgyK.js";import{A as N,b as y,a as k,S as C}from"./avatar-BscR1vI5.js";import{R as L}from"./quest-layout-BIBAvqvH.js";import{B as x}from"./button-D2gWXgfr.js";import{m as d,Z as S,T as P,S as _}from"./proxy-BGQug7Eg.js";import{S as A,T}from"./trending-up-Bg2u7Epf.js";import{H as R}from"./heart-1ZgZ7xGO.js";import{R as z}from"./rocket-DeJJ-fX_.js";import{L as I}from"./loader-circle-DQ7mCLa5.js";import{U as M}from"./users-BoQ_utpF.js";import{A as B}from"./arrow-right-Dd3r5bJ8.js";import"./value-journey-types-D7v8OajH.js";const F=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E=v("ChevronLeft",F);const H=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],U=v("MessageCircle",H),j=o.forwardRef(({className:s,...a},t)=>e.jsx("textarea",{className:m("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a}));j.displayName="Textarea";function D({onPostCreated:s,contextType:a,contextValue:t}){const[i,n]=o.useState(""),[l,c]=o.useState("post"),[u,r]=o.useState(!1),p=async()=>{if(i.trim()){r(!0);try{await g.post("/api/pulse",{content:i,type:l,context_type:a,context_value:t}),n(""),c("post"),s()}catch(h){console.error("Failed to create post:",h)}finally{r(!1)}}};return e.jsxs(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"rounded-2xl border border-white/10 bg-black/40 backdrop-blur-xl p-6 shadow-2xl mb-8",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(x,{variant:l==="post"?"secondary":"ghost",size:"sm",onClick:()=>c("post"),className:"rounded-full",children:[e.jsx(S,{className:"w-4 h-4 mr-2"})," Thought"]}),e.jsxs(x,{variant:l==="insight"?"secondary":"ghost",size:"sm",onClick:()=>c("insight"),className:"rounded-full",children:[e.jsx($,{className:"w-4 h-4 mr-2"})," Insight"]}),e.jsxs(x,{variant:l==="milestone"?"secondary":"ghost",size:"sm",onClick:()=>c("milestone"),className:"rounded-full",children:[e.jsx(P,{className:"w-4 h-4 mr-2"})," Milestone"]})]}),e.jsx(j,{placeholder:"What's pulsating in your ecosystem?",value:i,onChange:h=>n(h.target.value),className:"bg-white/5 border-white/10 focus:border-cyan-500 min-h-[100px] mb-4 text-white placeholder:text-white/30"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-white/40",children:["Share with ",t?`#${t}`:"everyone"]}),e.jsxs(x,{disabled:!i.trim()||u,onClick:p,className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),u?"Posting...":"Pulse It"]})]})]})}function $(s){return e.jsxs("svg",{...s,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2.5 1.5-3.5a6 6 0 0 0-6-6 6 6 0 0 0-6 6c0 1 .5 2.5 1.5 3.5.8.8 1.3 1.5 1.5 2.5"}),e.jsx("path",{d:"M9 18h6"}),e.jsx("path",{d:"M10 22h4"})]})}const G=w("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function Z({className:s,variant:a,...t}){return e.jsx("div",{className:m(G({variant:a}),s),...t})}function J({post:s,onReact:a}){const[t,i]=o.useState(!1),n=l=>{switch(l){case"milestone":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/50";case"insight":return"bg-purple-500/20 text-purple-300 border-purple-500/50";default:return"bg-blue-500/20 text-blue-300 border-blue-500/50"}};return e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group relative overflow-hidden rounded-2xl border border-white/10 bg-black/40 backdrop-blur-xl p-6 shadow-2xl transition-all hover:border-white/20",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(N,{className:"h-10 w-10 border border-white/20",children:[e.jsx(y,{src:s.user?.avatar}),e.jsx(k,{children:s.user?.name?.charAt(0)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-white tracking-wide",children:s.user?.name}),e.jsxs("span",{className:"text-xs text-white/40",children:["â€¢ ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-xs text-cyan-400 font-medium",children:["L",s.user?.merit_level?.replace("L","")||"0"," Builder"]})]})]}),s.context_type&&e.jsx(Z,{variant:"outline",className:`capitalize ${n(s.type)}`,children:s.type==="post"?s.context_value:s.type})]}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:s.content})}),e.jsxs("div",{className:"flex items-center gap-2 border-t border-white/5 pt-4",children:[e.jsxs(x,{variant:"ghost",size:"sm",className:"gap-2 text-white/60 hover:text-pink-400 hover:bg-pink-500/10",onClick:()=>a(s.id,"heart"),children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:s.reactions?.filter(l=>l.type==="heart").length||0})]}),e.jsxs(x,{variant:"ghost",size:"sm",className:"gap-2 text-white/60 hover:text-yellow-400 hover:bg-yellow-500/10",onClick:()=>a(s.id,"rocket"),children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:s.reactions?.filter(l=>l.type==="rocket").length||0})]}),e.jsxs(x,{variant:"ghost",size:"sm",className:"gap-2 text-white/60 hover:text-cyan-400 hover:bg-cyan-500/10",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:s.comments?.length||0})]})]}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})}function O({contextType:s,contextValue:a}){const[t,i]=o.useState([]),[n,l]=o.useState(!0),c=async()=>{try{const r={};s&&(r.context_type=s),a&&(r.context_value=a);const p=await g.get("/api/pulse",{params:r});i(p.data.data)}catch(r){console.error("Failed to fetch pulse:",r)}finally{l(!1)}},u=async(r,p)=>{try{const h=t.map(b=>(b.id===r,b));await g.post(`/api/pulse/${r}/react`,{type:p}),c()}catch(h){console.error("Failed to react:",h)}};return o.useEffect(()=>{c()},[s,a]),e.jsxs("div",{className:"w-full max-w-3xl mx-auto py-8",children:[e.jsx(D,{onPostCreated:c,contextType:s,contextValue:a}),e.jsx("div",{className:"space-y-6",children:n?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(I,{className:"w-8 h-8 animate-spin text-cyan-400"})}):t.length===0?e.jsx("div",{className:"text-center py-12 text-white/40 italic",children:"No pulses yet. Be the first transparency catalyst!"}):t.map(r=>e.jsx(J,{post:r,onReact:u},r.id))})]})}function le({type:s,slug:a,meta:t,filters:i}){const n=o.useMemo(()=>s==="role"?"from-violet-600 to-indigo-600":s==="level"?"from-emerald-600 to-teal-600":s==="sector"?"from-amber-600 to-orange-600":"from-blue-600 to-cyan-600",[s]);return e.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:e.jsx(d.div,{animate:{scale:[1,1.1,1],opacity:[.1,.15,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:m("absolute top-[-10%] right-[-10%] w-[800px] h-[800px] rounded-full blur-[120px] mix-blend-screen",s==="role"?"bg-violet-600/20":s==="level"?"bg-emerald-500/10":"bg-blue-500/10")})}),e.jsx(L,{}),e.jsxs("nav",{className:"relative z-50 p-6 flex items-center justify-between max-w-7xl mx-auto w-full",children:[e.jsxs(f,{href:route("dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors group",children:[e.jsx(E,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-bold text-sm tracking-widest uppercase",children:"Dashboard"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(f,{href:route("journey"),children:e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white/5 hover:bg-white/10 border border-white/10 px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-widest transition-colors",children:"Take Assessment"})})})]}),e.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 space-y-16",children:[e.jsxs("section",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-4",children:[e.jsxs("div",{className:m("inline-flex items-center gap-2 px-4 py-2 rounded-full border text-[10px] font-black uppercase tracking-[0.2em]","bg-slate-900/50 border-slate-800"),children:[e.jsx(_,{className:"w-3 h-3 text-amber-400"}),s," Spotlight"]}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black leading-tight bg-gradient-to-r from-white via-slate-200 to-slate-400 bg-clip-text text-transparent",children:t.title}),e.jsx("p",{className:"text-xl text-slate-400 max-w-xl leading-relaxed",children:t.tagline})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-900/40 border border-slate-800 rounded-2xl backdrop-blur-md",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-500/20 flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-white",children:"1.2k+"}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-black",children:"Active Builders"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-900/40 border border-slate-800 rounded-2xl backdrop-blur-md",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-white",children:"450+"}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-black",children:"Level Ups"})]})]})]})]}),e.jsxs(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"relative hidden lg:block",children:[e.jsx("div",{className:m("absolute inset-0 bg-gradient-to-br blur-3xl opacity-20",n)}),e.jsxs("div",{className:"relative p-10 bg-slate-900/40 border border-slate-800/50 rounded-[3rem] backdrop-blur-2xl box-shadow-2xl",children:[e.jsx("div",{className:"text-6xl mb-6",children:t.icon}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Ecosystem Intelligence"}),e.jsxs("p",{className:"text-slate-400 mb-8 leading-relaxed",children:["Our real-time pulse engine tracks the growth of ",t.name," across the globe. Join the network to unlock deeper insights."]}),e.jsx(f,{href:route("register"),children:e.jsxs("button",{className:m("px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest text-white transition-all hover:scale-105 active:scale-95 shadow-xl shadow-black/20",n),children:["Join the Hub ",e.jsx(B,{className:"inline-block ml-2 w-4 h-4"})]})})]})]})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-800 to-transparent"}),e.jsx("h2",{className:"text-3xl font-black text-white px-8 py-2 border border-slate-800 rounded-full bg-slate-900/50 backdrop-blur-xl",children:"The Social Pulse"}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-800 to-transparent"})]}),e.jsx(O,{contextType:s,contextValue:a})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-black text-white",children:"Global Ranking"}),e.jsxs("p",{className:"text-slate-500 text-sm",children:["Real-time leaders within the ",e.jsx("span",{className:"text-violet-400 font-bold",children:t.name})," segment."]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-900/50 border border-slate-800 p-2 rounded-xl",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500 px-4",children:"Daily Update Cycle"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"})]})]}),e.jsx("div",{className:"bg-slate-900/40 border border-slate-800/50 rounded-[2.5rem] p-4 md:p-8 backdrop-blur-xl",children:e.jsx(C,{initialFilters:i,hideFilters:!0})})]}),e.jsxs("footer",{className:"pt-8 border-t border-slate-900 flex flex-col items-center text-center gap-4",children:[e.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-700",children:"Global Town Square Protocol v1.0"}),e.jsxs("div",{className:"flex items-center gap-6 text-slate-600 text-xs font-bold",children:[e.jsx("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Intelligence"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-800"}),e.jsx("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Transparency"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-800"}),e.jsx("span",{className:"hover:text-white transition-colors cursor-pointer",children:"Participation"})]})]})]})]})}export{le as default};
